@model MenuSemaine_Core.Models.Plat

<div class="row">
    <div class="col-md-4">
        <form asp-controller="Home" asp-action="InsertPlat"
            data-ajax="true"
            data-ajax-method="POST"
            data-ajax-mode="replace"
            data-ajax-update="#list-plats"
            data-ajax-loading="#divloading">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Name" class="control-label"></label>
                <input asp-for="Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Type" class="control-label"></label>
                <select asp-for="Type" asp-items="Html.GetEnumSelectList<MenuSemaine_Core.Library.TypePlat>()"></select>
            </div>
            <div class="form-group">
                <input type="submit" value="Enregistrer" class="btn btn-outline-primary" role="button"/>
                <a asp-action="Index" class="btn btn-outline-primary" role="button">Annuler</a>
            </div>
        </form>
    </div>
</div>
<div class="row">
    <div class="col-md-8">
        <fieldset class="border p-2">
            <legend class="w-auto"> All Plats</legend>
            <div id="list-plats">
                @await Component.InvokeAsync("ListPlats")
            </div>
        </fieldset>
    </div>
</div>

<div id="divloading" style="margin: 0px; padding: 0px; position: fixed; right: 0px;
        top: 0px; width: 100%; height: 100%; background-color:#ffffff; z-index: 300001;
        opacity: .8; filter: alpha(opacity=80);display:none">
    <div style="position: absolute; top: 40%; left: 40%; color: black;">
        <img src="~/images/Wedges.gif" />
    </div>
</div>